 Используйте обработку исключений для управления ошибками. Например, если пользователь пытается взять книгу, которая уже выдана, или превышает лимит по количеству медиа.
